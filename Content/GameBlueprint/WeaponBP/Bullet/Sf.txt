































import java.util.*;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.FileNotFoundException;
import java.io.*;

class Employee implements Serializable{
    public String eName;
    public int eid;
    public String des;
    public int sal;
    Employee(String n,int id,String des,int sal){
        eName=n;
        eid=id;
        this.des=des;
        this.sal=sal;
    }
}
public class Main
{
	public static void main(String[] args) {
	    Scanner sc=new Scanner(System.in);
	    Employee e[]=new Employee[10];
	    int i=0;
	    do{
	    System.out.println("----------|Menu|-------------------");
	             System.out.println("1. Add an Employee: ");
                 System.out.println("2. Display All");
                 System.out.println("3. Exit");
                 System.out.println("Enter your choice: ");
                 
                 int ch=sc.nextInt();
                 switch(ch){
                     case 1:
                         System.out.println("Enter the name of Employee");
                         String n=sc.next();
                         System.out.println("Enter the Id of Employee");
                         int id=sc.nextInt();
                         System.out.println("Enter the Designation of Employee");
                         String des=sc.next();
                         System.out.println("Enter the salary of Employee");
                         int sal=sc.nextInt();
                        e[i]=new Employee(n,id,des,sal);
                        String filename = "Anuj.txt";
                        
                        try {
 
                            // Saving of object in a file
                            FileOutputStream file = new FileOutputStream(filename);
                            ObjectOutputStream out = new ObjectOutputStream(file);
                 
                            // Method for serialization of object
                            out.writeObject(e[i++]);
                 
                            out.close();
                            file.close();
                        }
                 
                        catch (IOException ex) {
                            System.out.println("IOException is caught");
                        }
                       
                       break;
                    case 2:
                        try{
                            String filename1 = "Anuj.txt";
                         FileInputStream file = new FileInputStream(filename1);
                         ObjectInputStream in = new ObjectInputStream(file);
 
                        // Method for deserialization of object
                        Employee E = (Employee)in.readObject();
             
                        
                        for(int j=0;j<i;j++)
System.out.println("Employee "+(j+1)+". Details: "+"\nEmployee Name: " + e[j].eName+"\nEmployee Id: "+e[j].eid+"\nEmployee Designation: "+e[j].des+"\nEmployee Salary: "+e[j].sal+"\n");
                        in.close();
                        file.close();
                        }catch(Exception e1){System.out.println("Error/Exception occured!..");}
                        break;
                    
                    case 3: return;
                        
                 }
                 
	    }while(true);
	}
}
